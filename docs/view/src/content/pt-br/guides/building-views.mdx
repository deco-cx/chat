---
title: Construindo Views
description: Aprenda como construir frontends React customizados no deco.chat
icon: Globe
---

import Callout from "../../../components/ui/Callout.astro";

Views fornecem interfaces de usuário customizadas para seus servidores MCP. Crie dashboards web, formulários ou qualquer aplicação React que possa chamar suas tools e workflows diretamente.

## Registrar Views

Declare views no seu servidor MCP para torná-las detectáveis:

```typescript
// server/main.ts
import { withRuntime } from "@deco/workers-runtime";

const { Workflow, ...runtime } = withRuntime<Env>({
  tools: [/* your tools */],
  workflows: [/* your workflows */],
  views: () => [
    {
      url: "https://your-app.deco.page",
      title: "My Custom Interface",
      icon: "dashboard", // Material Icons name
    },
  ],
  fetch: fallbackToView("/"),
});
```

<Callout type="info">
  Views são declaradas como uma função que retorna um array de configurações de view.
</Callout>

## Cliente RPC

Views chamam suas tools e workflows MCP usando um cliente RPC tipado em `src/lib/rpc.ts`:

```typescript
import { createClient } from "@deco/workers-runtime/client";
import type { Env } from "../../server/deco.gen.ts";

type SelfMCP = Env["SELF"];
export const client = createClient<SelfMCP>();
```

### Chamando Tools e Workflows

```typescript
import { client } from "../lib/rpc";
import { useState } from "react";

function MyComponent() {
  const [result, setResult] = useState(null);

  const callTool = async () => {
    // Call tools directly with full type safety
    const data = await client.tools.MY_TOOL({ input: "value" });
    setResult(data);
  };

  const startWorkflow = async () => {
    // Start workflows and get run ID
    const run = await client.workflows.MY_WORKFLOW({ input: "data" });
    console.log("Workflow started:", run.id);
  };

  return (
    <div>
      <button onClick={callTool}>Call Tool</button>
      <button onClick={startWorkflow}>Start Workflow</button>
      {result && <div>{JSON.stringify(result)}</div>}
    </div>
  );
}
```

O cliente RPC lida com roteamento para o endpoint MCP do seu Worker automaticamente, com suporte completo ao TypeScript dos seus tipos gerados.

### Geração de Tipos

Quando você adiciona novas tools ou workflows, atualize os tipos da sua view:

```bash
npm run gen      # Atualizar tipos de integração
npm run gen:self # Atualizar tipos das suas próprias tools
```

Isso garante que `client.tools` e `client.workflows` tenham os métodos mais recentes com validação completa do TypeScript.

## Roteamento

Views usam **TanStack Router** para roteamento type-safe. Crie componentes de rota e organize-os na árvore de rotas:

### Adicionando Rotas

1. Crie um arquivo de rota em `src/routes/`:

```typescript
// src/routes/my-page.tsx
import { createRoute } from "@tanstack/react-router";

export default (parentRoute) => createRoute({
  getParentRoute: () => parentRoute,
  path: "/my-page",
  component: MyPageComponent,
});

function MyPageComponent() {
  return <div>My Custom Page</div>;
}
```

2. Importe e registre em `src/main.tsx`:

```typescript
import myPageRoute from "./routes/my-page";

// Adicionar à árvore de rotas
const routeTree = rootRoute.addChildren([
  indexRoute,
  myPageRoute(rootRoute),
]);
```


<Callout type="warning">
  Views são publicamente acessíveis por padrão. Implemente autenticação se precisar de controle de acesso.
</Callout>