---
import LinkAnalyzerForm from "../components/LinkAnalyzerForm.astro";
---
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <title>Link Analyzer</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="/theme.css" />
  <style>
      :root { --grad-a:#6366f1; --grad-b:#7e22ce; --grad-c:#2563eb; --bg-deep:#0b1020; }
      body { font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif; margin:0; background:
        radial-gradient(circle at 18% 22%,#312e81 0%,rgba(49,46,129,.55) 18%,transparent 60%),
        radial-gradient(circle at 82% 18%,#1e3a8a 0%,rgba(30,58,138,.3) 25%,transparent 70%),
        linear-gradient(140deg,#0b1020,#111c3a 45%,#0b1020 90%);
        color:#e2e8f0;
      }
      a { color:var(--grad-b); }
  .wrap { max-width:1280px; margin:0 auto; padding:1.4rem clamp(1rem,3.2vw,2.4rem) 4.2rem; }
      nav { display:flex; gap:1rem; font-size:.75rem; letter-spacing:.5px; text-transform:uppercase; align-items:center; }
      nav a { text-decoration:none; color:#e2e8f0; opacity:.85; font-weight:600; }
      nav a:hover { opacity:1; }
      .hero { margin:2.4rem 0 2rem; }
  .hero h1 { margin:.2rem 0 1.4rem; font-size:clamp(2.3rem,5.4vw,3.65rem); line-height:1.03; background:linear-gradient(90deg,var(--grad-b),var(--grad-a),var(--grad-c)); -webkit-background-clip:text; color:transparent; }
  .hero p { max-width:720px; font-size:var(--fs-base); line-height:1.6; color:#93adc9; }
  .cta-row { display:flex; gap:.85rem; flex-wrap:wrap; margin-top:1.4rem; }
  .btn { text-decoration:none; background:var(--grad-a); background:linear-gradient(90deg,var(--grad-a),#3b82f6); color:#fff; padding:15px 26px; border-radius:14px; font-weight:600; display:inline-flex; gap:10px; align-items:center; font-size:clamp(.9rem, .9rem + .2vw, 1.05rem); box-shadow:0 6px 24px -8px rgba(37,99,235,.65); transition:.25s; }
      .btn:hover { transform:translateY(-2px); box-shadow:0 10px 30px -10px rgba(37,99,235,.7); }
      .btn.dark { background:#1e293b; box-shadow:0 6px 20px -6px rgba(0,0,0,.55); }
      .btn.dark:hover { background:#334155; }
      section#analisar { margin-top:2rem; }
  .highlight-panel { margin:2.8rem 0 2.4rem; display:grid; gap:2.4rem; grid-template-columns: 1.1fr 0.9fr; align-items:stretch; }
  @media (max-width: 900px){ .highlight-panel { grid-template-columns:1fr; } }
  .hp-card { position:relative; border:1px solid rgba(255,255,255,.12); background:linear-gradient(125deg,rgba(99,102,241,.18),rgba(126,34,206,.12) 55%,rgba(37,99,235,.15)); backdrop-filter:blur(22px) saturate(160%); padding:1.8rem 2.1rem 2.35rem; border-radius:34px; overflow:hidden; box-shadow:0 18px 60px -25px rgba(0,0,0,.65); }
  .hp-card-inner { max-width:780px; }
  .hp-card:before { content:""; position:absolute; inset:0; background:radial-gradient(circle at 110% -10%,rgba(255,255,255,.35),transparent 60%); pointer-events:none; }
  .hp-card h2 { margin:.2rem 0 .9rem; font-size:clamp(1.45rem,2.4vw,2.1rem); line-height:1.15; background:linear-gradient(90deg,var(--grad-a),var(--grad-b)); -webkit-background-clip:text; color:transparent; }
  .hp-card p { margin:.55rem 0 1.1rem; font-size:var(--fs-base); line-height:1.55; color:#b8cbe0; max-width:560px; }
  .hp-meta { font-size:.6rem; letter-spacing:1px; text-transform:uppercase; font-weight:600; color:#7ea6d6; display:inline-block; background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.15); padding:6px 10px; border-radius:999px; backdrop-filter:blur(8px); }
  .hp-list { list-style:none; padding:0; margin:0 0 1.6rem; display:grid; gap:.7rem; font-size:.85rem; max-width:760px; grid-template-columns:1fr; }
  @media (min-width: 1180px){ .hp-list { grid-template-columns:1fr 1fr; } }
  .hp-list li { display:flex; gap:.7rem; align-items:flex-start; background:rgba(15,23,42,.55); border:1px solid rgba(255,255,255,.07); padding:.8rem .95rem .85rem; border-radius:16px; line-height:1.45; position:relative; }
  .hp-list li:before { content:""; position:absolute; inset:0; border-radius:inherit; background:linear-gradient(140deg,rgba(255,255,255,.08),transparent 70%); opacity:0; transition:.35s; }
  .hp-list li:hover:before { opacity:1; }
  .hp-icon { width:18px; height:18px; color:#a5b4fc; flex-shrink:0; }
  .hp-side { position:relative; border:1px solid rgba(255,255,255,.12); background:linear-gradient(150deg,rgba(17,24,39,.9),rgba(30,41,59,.8)); backdrop-filter:blur(30px) saturate(160%); border-radius:34px; padding:1.6rem 2rem 1.9rem; display:flex; flex-direction:column; justify-content:flex-start; gap:1.3rem; box-shadow:0 22px 66px -30px rgba(0,0,0,.72); }
  .hp-side h3 { margin:0; font-size:1.15rem; background:linear-gradient(90deg,var(--grad-b),var(--grad-a)); -webkit-background-clip:text; color:transparent; letter-spacing:.5px; line-height:1.2; }
      .hp-side p { margin:0; font-size:.95rem; line-height:1.6; color:#9fb3c9; max-width:560px; }
      @media (max-width: 1080px){
        .hp-card { padding:1.6rem 1.6rem 2rem; }
        .hp-side { padding:1.4rem 1.6rem 1.7rem; }
        .hp-list { grid-template-columns:1fr; }
      }
      @media (max-width: 640px){
        .hp-card { border-radius:26px; }
        .hp-side { border-radius:26px; }
        .hp-card-inner { max-width:100%; }
        .hp-list li { font-size:.8rem; }
      }
  .hp-spark { position:absolute; top:-40px; right:-40px; width:160px; height:160px; background:radial-gradient(circle,#6366f1,transparent 65%); opacity:.35; filter:blur(16px); pointer-events:none; }
  /* Analyzer form dark adaptation */
  .analyzer-shell { margin-top:2.2rem; }
  .analyzer-shell .la-card { background:linear-gradient(145deg,rgba(17,24,39,.92),rgba(30,41,59,.85)); border:1px solid rgba(255,255,255,.08); box-shadow:0 8px 32px -18px rgba(0,0,0,.7); }
  .analyzer-shell .la-input { background:#0f172a; border-color:#334155; color:#e2e8f0; }
  .analyzer-shell .la-mini-btn { background:#1e293b; border-color:#334155; color:#e2e8f0; }
  .analyzer-shell #la-summary { background:#111c2e; border-color:#1e293b; }
  .analyzer-shell pre#la-result { background:#020e1f; }
  .analyzer-shell .la-status { color:#7ea6d6; }
      hr.decor { height:1px; border:none; background:linear-gradient(90deg,transparent,#334155,transparent); margin:3.5rem 0 3rem; }
      .promo { display:grid; gap:2.4rem; grid-template-columns: 1fr 1fr; align-items:center; }
      @media (max-width: 860px){ .promo { grid-template-columns:1fr; } }
      .promo h2 { font-size:clamp(1.4rem,2.2vw,2rem); margin:.2rem 0 1rem; line-height:1.15; background:linear-gradient(90deg,var(--grad-b),var(--grad-a)); -webkit-background-clip:text; color:transparent; }
      .promo p { color:#9db4c8; font-size:.95rem; line-height:1.55; }
      .glass { position:relative; border:1px solid rgba(255,255,255,.09); background:linear-gradient(140deg,rgba(255,255,255,.08),rgba(255,255,255,.02)); backdrop-filter:blur(18px) saturate(160%); padding:1.4rem 1.6rem 1.8rem; border-radius:22px; box-shadow:0 10px 40px -15px rgba(0,0,0,.6); }
      .features { display:grid; gap:1rem; grid-template-columns:repeat(auto-fit,minmax(160px,1fr)); margin-top:1rem; }
      .f { background:rgba(15,23,42,.55); border:1px solid rgba(255,255,255,.08); padding:.9rem 1rem 1rem; border-radius:14px; font-size:.7rem; letter-spacing:.5px; text-transform:uppercase; font-weight:600; display:flex; gap:.6rem; align-items:center; }
      .f svg { width:20px; height:20px; color:var(--grad-b); }
      .shots { position:relative; display:grid; gap:1.2rem; }
      .shot { border:1px solid rgba(255,255,255,.1); background:#0f172a; border-radius:16px; padding:.75rem 1rem; box-shadow:0 8px 26px -12px rgba(0,0,0,.65); }
      .shot h3 { margin:.2rem 0 .6rem; font-size:.75rem; letter-spacing:.5px; text-transform:uppercase; font-weight:700; color:#7dd3fc; }
      footer { margin:4rem 0 0; font-size:.65rem; text-transform:uppercase; letter-spacing:.5px; color:#556987; text-align:center; }
    </style>
  </head>
  <body>
    <div class="wrap fade-root">
      <nav>
        <a href="http://localhost:4000/tools/link-analyzer/" target="_blank" rel="noopener">Documentação</a>
        <span style="flex:1"></span>
        <a href="/login">Login</a>
        <a href="/signup">Cadastro</a>
      </nav>
  <header class="hero fade-in">
        <h1>Link Analyzer</h1>
        <p>Auditoria rápida de SEO on‑page: título, descrição, headers, links, imagens e score em segundos. Ideal para validações instantâneas e triagem de oportunidades.</p>
      </header>
  <section class="highlight-panel fade-in" style="transition-delay:.1s;">
        <div class="hp-card">
          <span class="hp-meta">Modos de utilização</span>
          <h2>Rápido agora. Profundo quando precisar.</h2>
          <p>Realize uma verificação imediata para capturar principais sinais de SEO e depois migre para o painel detalhado autenticado para histórico, roadmap de rastreamento multi página e exportações avançadas.</p>
          <ul class="hp-list">
            <li><svg class="hp-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12h18"/><path d="M12 3v18"/></svg><span><strong>Visão rápida</strong> coleta meta tags, links, imagens, headers e gera um score sintético.</span></li>
            <li><svg class="hp-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l3 2"/></svg><span><strong>Painel detalhado</strong> (beta) guarda histórico e futuramente exibirá comparativos e alertas.</span></li>
            <li><svg class="hp-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16v6H4z"/><path d="M4 14h16v6H4z"/></svg><span><strong>Exportações & IA</strong> entram no roadmap para fluxos de auditoria e otimização escalada.</span></li>
          </ul>
          <div class="cta-row">
            <a href="/analise" id="cta-detalhada" class="btn">🔍 Acessar análise detalhada</a>
            <a href="#analisar" class="btn dark">⚡ Análise rápida abaixo</a>
          </div>
        </div>
        <div class="hp-side">
          <div class="hp-spark"></div>
          <h3>Por que analisar agora?</h3>
          <p>Cada página sem título adequado, descrição alinhada ou links internos estruturados dilui relevância. A checagem imediata ajuda a priorizar correções com impacto direto.</p>
          <div style="display:flex; gap:.7rem; flex-wrap:wrap;">
            <a href="#analisar" class="btn" style="font-size:.75rem; padding:11px 18px;">Executar primeira varredura</a>
            <a href="http://localhost:4000/tools/link-analyzer/" target="_blank" rel="noopener" class="btn dark" style="font-size:.75rem; padding:11px 18px;">Ver documentação →</a>
          </div>
        </div>
      </section>
      <script>
        // Redireciona para login se não logado ao clicar em análise detalhada
        (function(){
          const a = document.getElementById('cta-detalhada');
          if(!a) return;
          a.addEventListener('click', function(ev){
            try {
              const auth = localStorage.getItem('la-supa-auth');
              if(!auth){ ev.preventDefault(); location.href = '/login?next=/analise'; }
            } catch { /* fallback */ }
          });
        })();
      </script>
  <section id="analisar" class="analyzer-shell fade-in" style="transition-delay:.2s;">
        <LinkAnalyzerForm />
      </section>
      <hr class="decor" />
      <section class="promo" id="detalhada">
        <div>
          <h2>Precisa de uma análise mais detalhada?</h2>
          <p>O painel autenticado desbloqueia histórico, roadmap de rastreamento multi página, exportações avançadas e sugestões de otimização guiadas por IA (em breve). Ideal para monitorar evolução e detectar regressões antes que impactem o tráfego.</p>
          <div class="features">
            <div class="f"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20v-6"/><path d="M6 20V10"/><path d="M18 20V4"/></svg>KPIs</div>
            <div class="f"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>Histórico</div>
            <div class="f"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16v6H4z"/><path d="M16 14H8"/><path d="M16 18H8"/></svg>Exportar</div>
            <div class="f"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>IA</div>
          </div>
          <div style="margin-top:1.6rem; display:flex; gap:.9rem; flex-wrap:wrap;">
            <a href="/analise" id="cta-detalhada-2" class="btn">Acessar painel</a>
            <a href="http://localhost:4000/tools/link-analyzer/" target="_blank" rel="noopener" class="btn dark">Ver docs →</a>
          </div>
        </div>
        <div class="shots">
          <div class="shot">
            <h3>Métricas principais</h3>
            <p style="margin:0; font-size:.75rem; line-height:1.4; color:#94a3b8;">Score SEO, links, imagens, conteúdo e meta tags resumidos em um painel limpo.</p>
          </div>
          <div class="shot">
            <h3>Roadmap</h3>
            <p style="margin:0; font-size:.75rem; line-height:1.4; color:#94a3b8;">Próximos: rastreamento multi página, comparação temporal, insights de IA.</p>
          </div>
          <div class="shot">
            <h3>Exportações</h3>
            <p style="margin:0; font-size:.75rem; line-height:1.4; color:#94a3b8;">Gere CSV/JSON (em breve) para fluxos de auditoria personalizados.</p>
          </div>
        </div>
      </section>
      <footer>© {new Date().getFullYear()} Link Analyzer • Beta</footer>
    </div>
    <script>
      // Intersection observer para animação
      (function(){
        const io = new IntersectionObserver((entries)=>{
          entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('appear'); io.unobserve(e.target);} });
        }, { threshold:.18 });
        document.querySelectorAll('.fade-in').forEach(el=> io.observe(el));
      })();
      // Redireciona para login se não logado ao clicar em análise detalhada
      (function(){
        function guard(id){
          const a = document.getElementById(id); if(!a) return;
          a.addEventListener('click', function(ev){
            try { const auth = localStorage.getItem('la-supa-auth'); if(!auth){ ev.preventDefault(); location.href='/login?next=/analise'; } } catch {}
          });
        }
        guard('cta-detalhada'); guard('cta-detalhada-2');
      })();
    </script>
  </body>
</html>
